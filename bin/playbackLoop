#!/usr/bin/env python
import os
import cv2
import sys

import time

import rospy
import argparse
#from dataset.bumbleDataSet import videoSequence,loop
#from dataset.utils import getImageSet,loadImages
#from front_end.utils import *

from dataset.utils import *







if __name__ == '__main__':
    rospy.init_node('playback_loop')
    print(sys.argv)
    parser = argparse.ArgumentParser()
    parser.add_argument("loop_number",type=int)
    parser.add_argument("meta_data")
    parser.add_argument("--delayMs",help="Delay in milliseconds between playback",default=1,type=int)
    args,unknown = parser.parse_known_args()

    rootDir,lImages,rImages=getImageSet(args.meta_data,args.loop_number)
    loopA=loadImages(lImages)
    print(lImages[0],lImages[-1])
    print(len(loopA))
    for a in loopA:
        cv2.imshow("a",a)
        cv2.waitKey(args.delayMs)
    # print(args)
    # sequence=videoSequence(args.meta_data)
    # sequence.printSummary()
    
    # print("beginning Sequence")
    # sequence.playbackLoop(args.track_id,int(args.loop_number))

    # print("end")

